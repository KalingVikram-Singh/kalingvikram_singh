<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DIY Arduino-Based Pressure Regulator</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Roboto', sans-serif;
      background-color: #f8f9fa;
      margin: 0;
      padding: 0;
      color: #222;
    }
    header {
      background: #0077cc;
      color: white;
      text-align: center;
      padding: 2rem 1rem;
    }
    main {
      max-width: 960px;
      margin: auto;
      padding: 2rem;
      background: white;
    }
    h1, h2, h3 {
      color: #0077cc;
    }
    ul {
      padding-left: 1.5rem;
    }
    li {
      margin-bottom: 0.4rem;
    }
    .figure {
      text-align: center;
      margin: 2rem 0;
    }
    .figure img {
      max-width: 100%;
      height: auto;
      border: 1px solid #ddd;
      border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    figcaption {
      font-style: italic;
      font-size: 0.95rem;
      color: #555;
      margin-top: 0.5rem;
    }
    .code-block {
      background: #f4f4f4;
      padding: 1rem;
      font-family: monospace;
      overflow-x: auto;
      white-space: pre;
      border-left: 4px solid #0077cc;
      margin-bottom: 2rem;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 1rem 0;
    }
    table, th, td {
      border: 1px solid #ccc;
    }
    th, td {
      padding: 0.75rem;
      text-align: left;
    }
    .warning {
      background: #fff3cd;
      color: #856404;
      border: 1px solid #ffeeba;
      padding: 1rem;
      margin: 2rem 0;
      border-radius: 6px;
    }
  </style>
</head>
<body>

<header>
  <h1>DIY Arduino-Based Pressure Regulator</h1>
  <p>Using BMP180 + L298 Motor Driver + Solenoid Valve</p>
</header>

<main>

  <section>
    <h2>üß∞ Required Components</h2>
    <ul>
      <li>Arduino Uno ‚Äî <a href="https://robu.in/product/arduino-uno-r3/">Buy</a></li>
      <li>L298N Motor Driver ‚Äî <a href="https://amzn.in/d/bEvsWri">Buy</a></li>
      <li>BMP180 Pressure Sensor ‚Äî <a href="https://amzn.in/d/5KgvPuV">Buy</a></li>
      <li>12V Solenoid Valve (Normally Closed) ‚Äî <a href="https://robu.in/product/dc-12v-solenoid-valve-1-4-2-way-normally-closed-direct-pneumatic-valves-for-water-air-gas-hot/">Buy</a></li>
      <li>Perfboard ‚Äî <a href="https://amzn.in/d/dcFAOyV">Buy</a></li>
      <li>Jumper wires, soldering iron, 12V adapter</li>
    </ul>
  </section>

  <section>
    <h2>üîå How to Make the Connections</h2>
    <p>Follow the steps below to assemble and connect the components:</p>
    <ol>
      <li>Connect the BMP180 to Arduino using I2C:</li>
      <ul>
        <li>SCL ‚Üí A5</li>
        <li>SDA ‚Üí A4</li>
        <li>VCC ‚Üí 3.3V</li>
        <li>GND ‚Üí GND</li>
      </ul>

      <li>Connect L298N Motor Driver to Arduino:</li>
      <ul>
        <li>IN1 ‚Üí D8</li>
        <li>IN2 ‚Üí D9</li>
        <li>GND ‚Üí Common ground</li>
        <li>+12V ‚Üí External Power Jack (do NOT connect to Arduino 5V)</li>
        <li>OUT1/OUT2 ‚Üí Solenoid Valve</li>
      </ul>

      <li>Connect a 12V Power Adapter to both:
        <ul>
          <li>Power jack ‚Üí L298N +12V</li>
          <li>Arduino can run from its own barrel jack (recommended)</li>
        </ul>
      </li>
    </ol>
  </section>

  <section>
    <h2>üì∑ Wiring Diagrams</h2>
    <div class="figure">
      <img src="image/Diagram.png" alt="Wiring diagram">
      <figcaption>Figure 1: Fritzing diagram showing BMP180, L298N and solenoid valve setup.</figcaption>
    </div>

    <div class="figure">
      <img src="image/FInal_2.png" alt="Final build on perfboard">
      <figcaption>Figure 2: Top view of soldered perfboard circuit with L298N and power jack.</figcaption>
    </div>

    <div class="figure">
      <img src="image/Pins.png" alt="Perfboard wiring details">
      <figcaption>Figure 3: Bottom view showing wiring from perfboard to Arduino and L298N.</figcaption>
    </div>
  </section>

  <section>
    <h2>üìã L298N to Arduino Pin Reference</h2>
    <table>
      <tr><th>L298N Pin</th><th>Connection</th></tr>
      <tr><td>IN1</td><td>Arduino D8</td></tr>
      <tr><td>IN2</td><td>Arduino D9</td></tr>
      <tr><td>OUT1</td><td>Solenoid Valve (+)</td></tr>
      <tr><td>OUT2</td><td>Solenoid Valve (-)</td></tr>
      <tr><td>+12V</td><td>External 12V Adapter</td></tr>
      <tr><td>GND</td><td>Common Ground with Arduino</td></tr>
    </table>
  </section>

  <section>
    <h2>üß™ Step 1: Test BMP180 Sensor</h2>
    <div class="code-block">
#include &lt;Wire.h&gt;<br>
#include &lt;Adafruit_BMP085.h&gt;<br>
<br>
Adafruit_BMP085 bmp;<br>
<br>
void setup() {<br>
  Serial.begin(115200);<br>
  Wire.begin();<br>
  if (!bmp.begin()) {<br>
    Serial.println("BMP180 not found. Please check wiring!");<br>
    while (1);<br>
  }<br>
  Serial.println("BMP180 Sensor Initialized.");<br>
}<br>
<br>
void loop() {<br>
  float pressure = bmp.readPressure();<br>
  float temperature = bmp.readTemperature();<br>
  Serial.print("Pressure: "); Serial.print(pressure); Serial.print(" Pa\t");<br>
  Serial.print("Temperature: "); Serial.println(temperature);<br>
  delay(1000);<br>
}
    </div>
  </section>

  <section>
    <h2>üö¶ Step 2: Final Pressure Control Code</h2>
    <div class="code-block">
#include &lt;Wire.h&gt;<br>
#include &lt;Adafruit_BMP085.h&gt;<br>
#define IN1 8<br>
#define IN2 9<br>
#define PRESSURE_THRESHOLD 99780<br>
<br>
Adafruit_BMP085 bmp;<br>
<br>
void setup() {<br>
  Serial.begin(115200);<br>
  Wire.begin();<br>
  pinMode(IN1, OUTPUT);<br>
  pinMode(IN2, OUTPUT);<br>
  digitalWrite(IN1, LOW);<br>
  digitalWrite(IN2, LOW);<br>
  if (!bmp.begin()) {<br>
    Serial.println("BMP180 not found. Check wiring.");<br>
    while (1);<br>
  }<br>
  Serial.println("System Initialized.");<br>
}<br>
<br>
void loop() {<br>
  float pressure = bmp.readPressure();<br>
  float temperature = bmp.readTemperature();<br>
  Serial.print("Pressure: "); Serial.print(pressure); Serial.print(" Pa\t");<br>
  Serial.print("Temperature: "); Serial.print(temperature); Serial.print(" ¬∞C\t");<br>
<br>
  if (pressure &lt; PRESSURE_THRESHOLD) {<br>
    digitalWrite(IN1, HIGH);<br>
    digitalWrite(IN2, LOW);<br>
    Serial.println("Valve: OPEN");<br>
  } else {<br>
    digitalWrite(IN1, LOW);<br>
    digitalWrite(IN2, LOW);<br>
    Serial.println("Valve: CLOSED");<br>
  }<br>
  delay(1000);<br>
}
    </div>
  </section>

  <div class="warning">
    ‚ö†Ô∏è <strong>Important:</strong> Never connect the 12V line directly to the Arduino. Only power the L298N with 12V, and ensure a common ground is shared.
  </div>

</main>
</body>
</html>
