<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DIY Arduino-Based Pressure Regulator</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap">
  <style>
    body {
      font-family: 'Roboto', sans-serif;
      line-height: 1.6;
      margin: 0;
      padding: 0;
      background-color: #f8f9fa;
      color: #333;
    }
    header {
      background: #212529;
      color: white;
      padding: 1rem;
      text-align: center;
    }
    main {
      max-width: 960px;
      margin: auto;
      padding: 2rem;
      background: white;
    }
    h1, h2, h3 {
      color: #0077b6;
    }
    ul {
      padding-left: 1.5rem;
    }
    li {
      margin-bottom: 0.5rem;
    }
    section {
      margin-bottom: 2rem;
    }
    .figure {
      text-align: center;
      margin: 2rem 0;
    }
    .figure img {
      max-width: 100%;
      height: auto;
      border-radius: 6px;
      border: 1px solid #ddd;
    }
    figcaption {
      font-style: italic;
      margin-top: 0.5rem;
      color: #555;
    }
    .code-block {
      background: #f1f1f1;
      border-left: 5px solid #0077b6;
      padding: 1rem;
      font-family: monospace;
      overflow-x: auto;
    }
    a {
      color: #0077b6;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
    .important {
      color: red;
      font-weight: bold;
    }
  </style>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
</head>
<body>

<header>
  <h1>DIY Arduino-Based Pressure Regulator</h1>
  <p>Automated control for glove boxes using BMP180 and solenoid valve</p>
</header>

<main>

<section>
  <h2>Components Required</h2>
  <ul>
    <li><a href="https://robu.in/product/arduino-uno-r3/">Arduino Uno</a></li>
    <li><a href="https://amzn.in/d/bEvsWri">L298 Motor Driver</a></li>
    <li><a href="https://amzn.in/d/5KgvPuV">BMP180 Pressure Sensor</a></li>
    <li><a href="https://robu.in/product/dc-12v-solenoid-valve-1-4-2-way-normally-closed-direct-pneumatic-valves-for-water-air-gas-hot/">12V Solenoid Valve (Normally Closed)</a></li>
    <li><a href="https://amzn.in/d/dcFAOyV">Perfboard</a></li>
  </ul>
</section>

<section>
  <h2>Setup Instructions</h2>
  <p>Begin by connecting the BMP180 sensor to the Arduino on a breadboard:</p>
  <ul>
    <li>A5 → SCL</li>
    <li>A4 → SDA</li>
    <li>3.3V → VCC</li>
    <li>GND → GND</li>
  </ul>
  <p>Install the BMP180 library in Arduino IDE and upload the sensor test code below.</p>

  <div class="figure">
    <img src="image/Diagram.png" alt="Circuit Diagram">
    <figcaption>Figure 1: Circuit Diagram</figcaption>
  </div>
</section>

<section>
  <h2>Perfboard Integration</h2>
  <p>Use a perfboard to make the setup compact. Solder Berg pins aligned with the Arduino headers and connect the BMP180 and L298 driver via wires. Refer to the figure below.</p>

  <div class="figure">
    <img src="image/Pins.png" alt="Perfboard connection to Arduino">
    <figcaption>Figure 2: Perfboard to Uno</figcaption>
  </div>
</section>

<section>
  <h2>Final Assembly</h2>
  <p>Once all the connections are tested, solder IN1 and IN2 to Berg pins and insert the L298 driver onto the perfboard. Keep IN3 and IN4 floating unless needed. Connect the solenoid valve to outputs O1 and O2 of L298.</p>
  
  <div class="important">⚠️ Do not connect 12V directly to Arduino. Use external power for L298.</div>

  <div class="figure">
    <img src="image/FInal_2.png" alt="Final pressure regulator setup">
    <figcaption>Figure 3: Final Setup</figcaption>
  </div>
</section>

<section>
  <h2>Code: BMP180 Sensor Test</h2>
  <div class="code-block">
<pre>
#include &lt;Wire.h&gt;
#include &lt;Adafruit_BMP085.h&gt;

Adafruit_BMP085 bmp;

void setup() {
  Serial.begin(115200);
  Wire.begin();
  if (!bmp.begin()) {
    Serial.println("BMP180 not found. Please check wiring!");
    while (1);
  }
  Serial.println("BMP180 Sensor Initialized.");
}

void loop() {
  float pressure = bmp.readPressure();
  float temperature = bmp.readTemperature();
  Serial.print("Pressure: "); Serial.print(pressure); Serial.print(" Pa\t");
  Serial.print("Temperature: "); Serial.print(temperature); Serial.println(" °C");
  delay(1000);
}
</pre>
  </div>
</section>

<section>
  <h2>Code: Pressure Regulator</h2>
  <div class="code-block">
<pre>
#include &lt;Wire.h&gt;
#include &lt;Adafruit_BMP085.h&gt;

#define IN1 8
#define IN2 9
#define PRESSURE_THRESHOLD 99780

Adafruit_BMP085 bmp;

void setup() {
  Serial.begin(115200);
  Wire.begin();
  pinMode(IN1, OUTPUT);
  pinMode(IN2, OUTPUT);
  digitalWrite(IN1, LOW);
  digitalWrite(IN2, LOW);

  if (!bmp.begin()) {
    Serial.println("BMP180 not found. Check wiring.");
    while (1);
  }
  Serial.println("System Initialized.");
}

void loop() {
  float pressure = bmp.readPressure();
  float temperature = bmp.readTemperature();

  Serial.print("Pressure: "); Serial.print(pressure); Serial.print(" Pa\t");
  Serial.print("Temperature: "); Serial.print(temperature); Serial.print(" °C\t");

  if (pressure &lt; PRESSURE_THRESHOLD) {
    digitalWrite(IN1, HIGH);
    digitalWrite(IN2, LOW);
    Serial.println("Valve: OPEN");
  } else {
    digitalWrite(IN1, LOW);
    digitalWrite(IN2, LOW);
    Serial.println("Valve: CLOSED");
  }
  delay(1000);
}
</pre>
  </div>
</section>

</main>
</body>
</html>
